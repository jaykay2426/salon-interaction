<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Jayâ€™s Salon Chat Assistant ğŸ’ˆ</title>
<style>
  * {
    box-sizing: border-box;
  }

  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ffdee9, #51e4df);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .chat-container {
    background: white;
    width: 90%;
    max-width: 450px;
    height: 90vh;
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    overflow: hidden;
  }

  .chat-header {
    background: linear-gradient(45deg, red, blue);
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 18px;
    font-weight: 600;
  }

  .chat-box {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    background: #f9f9ff;
    display: flex;
    flex-direction: column;
  }

  .bubble {
    max-width: 75%;
    padding: 12px;
    border-radius: 15px;
    margin: 8px 0;
    font-size: 15px;
    word-wrap: break-word;
    animation: fadeIn 0.3s ease-in;
  }

  .bot {
    background: #e3f2fd;
    color: #333;
    align-self: flex-start;
  }

  .user {
    background: #ff0077;
    color: white;
    align-self: flex-end;
  }

  .chat-input {
    display: flex;
    border-top: 1px solid #ddd;
    padding: 10px;
    background: #fff;
  }

  .chat-input input {
    flex: 1;
    padding: 10px;
    border-radius: 25px;
    border: 1px solid #ccc;
    outline: none;
    font-size: 15px;
  }

  .chat-input button {
    background: #ff0077;
    border: none;
    color: white;
    border-radius: 25px;
    padding: 0 20px;
    margin-left: 10px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }

  .chat-input button:hover {
    background: #ff3399;
    transform: scale(1.05);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">ğŸ’¬ Jayâ€™s Salon Assistant</div>
    <div class="chat-box" id="chatBox"></div>
    <div class="chat-input">
      <input id="userInput" type="text" placeholder="Type here..." />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <script>
    const chatBox = document.getElementById('chatBox');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    const hairstyles = {
      male: [
        { name: "Low Cut", price: 1500 },
        { name: "Fade", price: 2000 },
        { name: "Dreads", price: 5000 },
      ],
      female: [
        { name: "Braids", price: 4000 },
        { name: "Wig Install", price: 6000 },
        { name: "Hair Coloring", price: 8000 },
      ]
    };

    let step = 0;
    let userData = {};

    function addMessage(text, sender) {
      const bubble = document.createElement('div');
      bubble.classList.add('bubble', sender);
      bubble.textContent = text;
      chatBox.appendChild(bubble);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function botReply(text, delay = 700) {
      setTimeout(() => addMessage(text, 'bot'), delay);
    }

    function nextStep(input) {
      switch(step) {
        case 0:
          userData.name = input;
          botReply(`Nice to meet you, ${input}! Whatâ€™s your gender? (male/female)`);
          step++;
          break;

        case 1:
          const gender = input.toLowerCase();
          if (gender !== 'male' && gender !== 'female') {
            botReply("Please type 'male' or 'female' ğŸ‘€");
            return;
          }
          userData.gender = gender;
          botReply(`Perfect! Here are some ${gender} hairstyles:`);
          hairstyles[gender].forEach((s, i) => botReply(`${i + 1}. ${s.name} â€” â‚¦${s.price}`, 600 * (i + 1)));
          setTimeout(() => botReply("Type the number of the hairstyle you want ğŸ’‡â€â™‚ï¸"), 2000);
          step++;
          break;

        case 2:
          const choiceIndex = parseInt(input) - 1;
          const chosen = hairstyles[userData.gender][choiceIndex];
          if (!chosen) {
            botReply("Hmm, thatâ€™s not a valid choice ğŸ˜…");
            return;
          }
          userData.choice = chosen;
          botReply(`You picked ${chosen.name} costing â‚¦${chosen.price}. Enter your payment amount ğŸ’°`);
          step++;
          break;

        case 3:
          const payment = parseInt(input);
          if (isNaN(payment)) {
            botReply("Please enter a valid number for your payment.");
            return;
          }

          if (payment < userData.choice.price) {
            const balance = userData.choice.price - payment;
            botReply(`Thatâ€™s â‚¦${balance} short. Please enter the remaining amount.`);
            step = 4;
          } else {
            const change = payment - userData.choice.price;
            botReply(`Awesome! ğŸ’… Payment received. Your change is â‚¦${change}.`);
            setTimeout(() => botReply(`Thanks ${userData.name}! Enjoy your ${userData.choice.name} âœ¨`), 1000);
            step = 99;
          }
          break;

        case 4:
          const extra = parseInt(input);
          if (isNaN(extra)) {
            botReply("Please enter a valid number for the remaining amount.");
            return;
          }
          if (extra + userData.choice.price === userData.choice.price) {
            botReply("Payment complete. Thank you!");
          } else {
            botReply("Payment still incomplete. Please see the cashier.");
          }
          step = 99;
          break;

        default:
          botReply("Weâ€™re done! Want to start again? Reload the page ğŸ”");
      }
    }

    sendBtn.addEventListener('click', () => {
      const input = userInput.value.trim();
      if (!input) return;
      addMessage(input, 'user');
      userInput.value = '';
      nextStep(input);
    });

    userInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') sendBtn.click();
    });

    botReply("Hello there! Welcome to Jayâ€™s Salon ğŸ’ˆ");
    setTimeout(() => botReply("Whatâ€™s your name? ğŸ˜Š"), 1000);
  </script>
</body>
</html>
